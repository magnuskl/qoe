<!DOCTYPE html>
<html lang="en">
<head>
    <title>QoE Assessment Tool for Panoramic Video</title>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/video.js@7.5.0/dist/video-js.min.css"> 
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/videojs-vr@1.7.1/dist/videojs-vr.min.css">
    <link rel="stylesheet" href="./styles/style.css">
</head>
<body>

<div class="outer">
    <div class="inner">
        <div class="header">
            <p id="title"></p>
        </div>
        <div class="main">
            <div id="start">
                <p>
                    Welcome&mdash;and thank you for participating!
                </p>
                <p>
                    In this experiment, you will watch variants of the same
                    video to determine which has better quality. The contents of
                    each variant is the same, but the resolution and compression
                    level may vary. Each variant will be pairwise compared to
                    every other variant.
                </p>
                <p> 
                    The original video has been encoded in combinations of three
                    different resolutions (480p, 720p, and 1080p) and two
                    different CRF values (23 and 34). This yields
                    3&nbsp;&times;&nbsp;2&nbsp;=&nbsp;6 variants and
                    6&nbsp;choose&nbsp;2&nbsp;=&nbsp;15 pairs. Note that
                    variants are compared only once and not with themselves.
                    Otherwise, there would have been
                    6&nbsp;&times;&nbsp;6&nbsp;=&nbsp;36 pairs.
                </p>
                <p>
                    Just to keep track of the progress, the current pair and
                    variant are displayed above the video. However, these
                    numbers do not disclose the properties of each variant (i.e.
                    the encoding parameters). This is part of the purpose:
                    nobody should be biased by knowledge of the likely outcome.
                    Pairs and variants appear in randomized sequence.
                </p>
                <p>
                    Please take a minute to learn how the controls work:
                </p>
                <p>
                    The controls are located below the video.  Click on the
                    Previous and Next buttons to navigate between slides. One
                    pair, consisting of two variants, is displayed on each
                    slide. Click on the video if it does not automatically start
                    to play. Click on the Switch button (in the middle) to
                    switch between variants within each pair.  Click on the
                    First and Last buttons to view these instructions and the
                    results, respectively. As this is panoramic video, hold and
                    drag the video to change the viewing angles. Click on the
                    title above the video to select the variant that you prefer.
                    A colored border will appear around the video's edge. Only
                    one variant can be selected; selecting one will
                    automatically deselect the other. Make sure to watch each
                    variant before you make your decision.  All pairs must be
                    assessed to complete the experiment. The controls are
                    summarized in the table below.
                </p>
                <table>
                    <tr>
                        <td>
                            <a href="#" class="button">|&lt;</a>
                        </td>
                        <td>
                            Navigate to the first slide (these instructions)
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <a href="#" class="button">&lt;</a>
                        </td>
                        <td>
                            Navigate to the previous slide
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <a href="#" class="button">/</a>
                        </td>
                        <td>
                            Switch between variants within each pair
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <a href="#" class="button">&gt;</a>
                        </td>
                        <td>
                            Navigate to the next slide
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <a href="#" class="button">&gt;|</a>
                        </td>
                        <td>
                            Navigate to the last slide (results)
                        </td>
                    </tr>
                </table>
                <p>
                    <strong>
                        To summarize: You will compare six variants of the same
                        video to determine which has better quality. Each
                        variant will be compared once to every other
                        variant&mdash;for a total of 15 comparisons. Click on
                        the Switch button to change between variants. Click on
                        the title above the video to make your selection. Make
                        sure to watch the video from different angles (hold and
                        drag).
                    </strong>
                </p>
                <p>
                    Although in some cases the choice may be all but obvious, in
                    others it may not. There is no time limit, so there is no
                    need to hurry. There is also no correct or incorrect answer:
                    QoE is a subjective measure. Click on the Next button to
                    start (or continue) the experiment. Good luck!
                </p>
                <p>
                    Click on <a href="./logs/log.csv">this link</a> to download
                    previously submitted data in CSV format.
                </p>
            </div>
            <video
                id="player"
                class="video-js"
                crossorigin="anonymous">
                <p class="vjs-no-js">
                    Please enable JavaScript to view this video, and consider
                    upgrading to a web browser that
                    <a href= "//videojs.com/html5-video-support" target="_blank">
                        supports HTML 5 video
                    </a>
                </p>
            </video>
            <div id="end">
                <div id="complete">
                    <p>
                        All pairs have been assessed. To revise past choices,
                        click on the Previous button. Otherwise, please provide
                        your candidate number, age, and device details. Your
                        device is autodetected, but do make sure that the
                        information is correct&mdash;and amend if not. Kindly
                        also indicate your self-assessed computer proficiency
                        using the slider. Click on the Submit button to conclude
                        the experiment and submit the data. You are adviced to
                        keep a local copy, which is provided below.
                    </p>
                    <form>
                        <table>
                            <tr>
                                <td>
                                    <label for="cand">Candidate #</label>
                                </td>
                                <td>
                                    <label for="age">Age</label>
                                </td>
                                <td>
                                    <label for="agent">Device Details</label>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <input type="number"
                                           id="cand"
                                           name="cand"
                                           min="1"
                                           max="999999">
                                </td>
                                <td>
                                    <input type="number"
                                           id="age"
                                           name="age"
                                           min="6"
                                           max="120">
                                </td>
                                <td>
                                    <input type="text"
                                           id="agent"
                                           name="agent">
                                </td>
                            </tr>
                        </table>
                        <label for="prof_level">Computer Proficiency</label><br>
                        <input type="range"
                               min="1"
                               max="5"
                               id="prof_level">
                        <span id="prof_desc"></span><br>
                        <label for="experiment">Experiment ID</label><br>
                        <input type="text" id="exp" name="exp" readonly><br>
                        <label for="data">Data (for local copy)</label><br>
                        <textarea id="data" name="data" rows=10 readonly>
                        </textarea><br>
                        <input type="button" id="submit" value="Submit">
                    </form>
                </div>
                <div id="incomplete">
                    <p>
                        One or more pairs have not been assessed. Click on the
                        Previous button to navigate back and complete the
                        remaining ones.
                    </p>
                </div>
            </div>
        </div>
        <div class="controls">
            <a href="#" id="first" class="button">|&lt;</a>
            <a href="#" id="previous" class="button">&lt;</a>
            <a href="#" id="switch" class="button">/</a>
            <a href="#" id="next" class="button">&gt;</a>
            <a href="#" id="last" class="button">&gt;|</a>
        </div>
        <div class="footer">
            <p>Copyright &copy; 2020 SimulaMet</p>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/video.js@7.5.0/dist/video.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-vr@1.7.1/dist/videojs-vr.min.js"></script>
<script type="text/javascript" src="./scripts/config.js"></script>
<script type="text/javascript" src="./scripts/utils.js"></script>
<script type="text/javascript" src="./scripts/events.js"></script>
<script type="text/javascript" src="./scripts/init.js"></script>

</body>
</html>
